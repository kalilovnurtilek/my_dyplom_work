{% extends 'base.html' %}

{% block content %}
<div class="container mx-auto mt-10 px-4 space-y-12">
  <!-- HEADER -->
  <header class="flex items-center gap-3">
    <h1 class="text-4xl font-bold tracking-tight">
      {% if user.is_superuser %}
        –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
      {% else %}
        –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!
      {% endif %}
    </h1>
  </header>

  {% if user.is_authenticated %}
    <!-- ACTION BUTTONS -->
    <section class="flex flex-wrap gap-4">
      <a href="{% url 'post-create' %}" class="btn-primary flex items-center gap-2"><i class="i-lucide-plus"></i> –°–æ–∑–¥–∞—Ç—å –ø–æ—Å—Ç</a>
      {% if user.is_superuser %}
        <a href="{% url 'register' %}" class="btn-secondary">‚ûï –ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</a>
        <a href="{% url 'admin-posts' %}" class="btn-secondary">üìã –í—Å–µ –ø–æ—Å—Ç—ã</a>
        <a href="{% url 'create-special' %}" class="btn-secondary">üè∑Ô∏è –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</a>
        <a href="{% url 'create-subject' %}" class="btn-secondary">üìö –ü—Ä–µ–¥–º–µ—Ç</a>
      {% endif %}
    </section>

    <!-- MY POSTS -->
    {% include 'partials/posts_table.html' with title='üìù –ú–æ–∏ –ø–æ—Å—Ç—ã' posts=my_posts show_owner=False %}

    <!-- FOR APPROVAL -->
    {% include 'partials/posts_table.html' with title='üì• –ù–∞ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ' posts=approval_posts show_owner=True %}

    <!-- APPROVED -->
    {% include 'partials/posts_table.html' with title='‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω—ã–µ' posts=approved_posts show_owner=True %}

  {% else %}
    <p class="text-xl">–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å.</p>
  {% endif %}
</div>
{% endblock %}

{# Tailwind Styles #}
<style>
.btn-primary{@apply px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-2xl shadow-lg transition font-medium;}
.btn-secondary{@apply px-4 py-2 bg-white border border-gray-300 hover:bg-gray-50 rounded-2xl shadow-sm transition;}
.table-header{@apply bg-gray-100 text-sm uppercase tracking-wide text-gray-600;}
.table-cell{@apply px-4 py-3;}
</style>
